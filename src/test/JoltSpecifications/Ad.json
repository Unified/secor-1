[
  {
    "metadata": {
      "name": "Facebook Ad",
      "sort_keys": [
        "ad_id",
        "event_timestamp",
        "updated_time"
      ],
      "table": "facebook_ad",
      "tags": [
        "facebook-ad",
        "facebook-ad-2"
      ],
      "unique_keys": [
        "ad_id"
      ],
      "columns": {
        "ad_id": "idType",
        "account_id": "idType",
        "configured_status": "VARCHAR(16)",
        "effective_status": "VARCHAR(30)",
        "bid_type": "VARCHAR(13)",
        "bid_info": "VARCHAR(100)",
        "campaign_id": "idType",
        "adset_id": "idType",
        "conversion_specs": "VARCHAR(400)",
        "tracking_specs": "VARCHAR(400)",
        "creative": "VARCHAR(32)",
        "creative_ids": "VARCHAR(32)",
        "ad_name": "VARCHAR(512)",
        "view_tags": "VARCHAR(5000)",
        "targeting_genders": "VARCHAR(6)",
        "targeting_age_min": "INTEGER",
        "targeting_age_max": "INTEGER",
        "targeting_geo_locations": "VARCHAR(20000)",
        "targeting_geo_locations_countries": "VARCHAR(200)",
        "targeting_geo_locations_cities": "VARCHAR(30000)",
        "targeting_geo_locations_regions": "VARCHAR(3000)",
        "targeting_excluded_geo_locations": "VARCHAR(400)",
        "targeting_excluded_geo_locations_countries": "VARCHAR(400)",
        "targeting_excluded_geo_locations_cities": "VARCHAR(3000)",
        "targeting_excluded_geo_locations_regions": "VARCHAR(2000)",
        "targeting_excluded_geo_locations_zips": "VARCHAR(400)",
        "targeting_user_os": "VARCHAR(128)",
        "targeting_user_device": "VARCHAR(600)",
        "targeting_wireless_carrier": "VARCHAR(4)",
        "targeting_site_category": "VARCHAR(3000)",
        "targeting_connections": "VARCHAR(8000)",
        "targeting_excluded_connections": "VARCHAR(8000)",
        "targeting_friends_of_connections": "VARCHAR(15000)",
        "targeting_interests": "VARCHAR(65535)",
        "targeting_behaviors": "VARCHAR(3000)",
        "targeting_relationship_statuses": "VARCHAR(32)",
        "targeting_interested_in": "VARCHAR(16)",
        "targeting_life_events": "VARCHAR(1024)",
        "targeting_politics": "VARCHAR(1024)",
        "targeting_markets": "VARCHAR(3000)",
        "targeting_industries": "VARCHAR(2000)",
        "targeting_income": "VARCHAR(1024)",
        "targeting_net_worth": "VARCHAR(1024)",
        "targeting_home_type": "VARCHAR(500)",
        "targeting_home_ownership": "VARCHAR(500)",
        "targeting_home_value": "VARCHAR(3000)",
        "targeting_ethnic_affinity": "VARCHAR(500)",
        "targeting_generation": "VARCHAR(500)",
        "targeting_household_composition": "VARCHAR(500)",
        "targeting_moms": "VARCHAR(1000)",
        "targeting_office_type": "VARCHAR(500)",
        "targeting_education_schools": "VARCHAR(3000)",
        "targeting_education_statuses": "VARCHAR(32)",
        "targeting_college_years": "VARCHAR(500)",
        "targeting_education_majors": "VARCHAR(3000)",
        "targeting_work_employers": "VARCHAR(65535)",
        "targeting_work_positions": "VARCHAR(65535)",
        "targeting_locales": "VARCHAR(200)",
        "targeting_zips": "VARCHAR(3000)",
        "targeting_user_adclusters": "VARCHAR(65535)",
        "targeting_excluded_user_adclusters": "VARCHAR(3000)",
        "targeting_family_statuses": "VARCHAR(2000)",
        "targeting_flexible_spec": "VARCHAR(65535)",
        "targeting_exclusions": "VARCHAR(3000)",
        "targeting_device_platforms": "VARCHAR(128)",
        "targeting_facebook_positions": "VARCHAR(128)",
        "targeting_publisher_platforms": "VARCHAR(128)",
        "updated_time": "TIMESTAMP",
        "created_time": "TIMESTAMP"
      }
    },
    "operation": "shift",
    "spec": {
      "payload": {
        "account_id": "account_id",
        "adset_id": "adset_id",
        "bid_info": "bid_info",
        "bid_type": "bid_type",
        "campaign_id": "campaign_id",
        "configured_status": "configured_status",
        "conversion_specs": "conversion_specs",
        "created_time": "REDSHIFT_TIME_FORMAT_created_time",
        "creative": {
          "*": "creative.&",
          "id": "creative_ids"
        },
        "effective_status": "effective_status",
        "id": "ad_id",
        "name": "ad_name",
        "targeting": {
          "age_max": "targeting_age_max",
          "age_min": "targeting_age_min",
          "behaviors": "targeting_behaviors",
          "college_years": "targeting_college_years",
          "connections": "targeting_connections",
          "device_platforms": "targeting_device_platforms",
          "education_majors": "targeting_education_majors",
          "education_schools": "targeting_education_schools",
          "education_statuses": "targeting_education_statuses",
          "ethnic_affinity": "targeting_ethnic_affinity",
          "excluded_connections": "targeting_excluded_connections",
          "excluded_geo_locations": {
            "*": "excluded_geo_locations.&",
            "cities": "targeting_excluded_geo_locations_cities",
            "countries": "targeting_excluded_geo_locations_countries",
            "regions": "targeting_excluded_geo_locations_regions",
            "zips": "targeting_excluded_geo_locations_zips"
          },
          "excluded_user_adclusters": "targeting_excluded_user_adclusters",
          "exclusions": "targeting_exclusions",
          "facebook_positions": "targeting_facebook_positions",
          "family_statuses": "targeting_family_statuses",
          "flexible_spec": "targeting_flexible_spec",
          "friends_of_connections": "targeting_friends_of_connections",
          "genders": "targeting_genders",
          "generation": "targeting_generation",
          "geo_locations": {
            "*": "geo_locations.&",
            "cities": "targeting_geo_locations_cities",
            "countries": "targeting_geo_locations_countries",
            "regions": "targeting_geo_locations_regions"
          },
          "home_ownership": "targeting_home_ownership",
          "home_type": "targeting_home_type",
          "home_value": "targeting_home_value",
          "household_composition": "targeting_household_composition",
          "income": "targeting_income",
          "industries": "targeting_industries",
          "interested_in": "targeting_interested_in",
          "interests": "targeting_interests",
          "life_events": "targeting_life_events",
          "locales": "targeting_locales",
          "markets": "targeting_markets",
          "moms": "targeting_moms",
          "net_worth": "targeting_net_worth",
          "office_type": "targeting_office_type",
          "politics": "targeting_politics",
          "publisher_platforms": "targeting_publisher_platforms",
          "relationship_statuses": "targeting_relationship_statuses",
          "site_category": "targeting_site_category",
          "user_adclusters": "targeting_user_adclusters",
          "user_device": "targeting_user_device",
          "user_os": "targeting_user_os",
          "wireless_carrier": "targeting_wireless_carrier",
          "work_employers": "targeting_work_employers",
          "work_positions": "targeting_work_positions",
          "zips": "targeting_zips"
        },
        "tracking_specs": "tracking_specs",
        "updated_time": "REDSHIFT_TIME_FORMAT_update_time",
        "view_tags": "view_tags"
      }
    }
  },
  {
    "operation": "com.unified.platform.transformation.transform.JoltTimeTransformer",
    "spec" :{
      "input_format": "yyyy-MM-dd'T'HH:mm:ss'Z'",
      "output_format": "yyyy-MM-dd' 'HH:mm:ss"
    }
  }
]
